## 组件测试

> react-create-app集成了jest，我们直接使用即可。

在我们需要测试的组件的位置加上test文件（命名：需要测试的组件名字 + .test.tsx）

然后写测试用例，下面是一个例子：

```tsx
// component.test.tsx
import React from "react"
import { render, screen } from "@testing-library/react"
import Component from "./component"

it("默认属性", () => {
  render(<Component />) // 渲染组件
  const h = screen.getByText("问卷标题")
  expect(h).toBeInTheDocument() // 断言获取的元素在document里面
})

it("传入属性", () => {
  render(<Component title='hello' desc='world' />) // 渲染组件

  const h = screen.getByText("hello")
  expect(h).toBeInTheDocument() // 断言获取的元素在document里面

  const p = screen.getByText("world")
  expect(p).toBeInTheDocument() // 断言获取的元素在document里面
})

it("多行文字", () => {
  render(<Component title='hello' desc={"a\nb\nc"} />) // 渲染组件

  const span = screen.getByText("a")
  expect(span).toHaveTextContent("a") // 断言获取的元素是否有'a'
  expect(span).not.toHaveTextContent("ab") // 断言获取的元素是否没有'ab', 因为被换行了
})

```

